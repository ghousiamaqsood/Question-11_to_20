"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.writeFile = void 0;
const disposable_1 = require("@typed/disposable");
const future_1 = require("@typed/future");
const fs = require("fs");
function* writeFile(filePath, contents) {
    return yield future_1.Future.create((reject, resolve) => {
        const disposable = disposable_1.Disposable.lazy();
        fs.writeFile(filePath, contents, (err) => {
            if (disposable.disposed) {
                return;
            }
            if (err) {
                return disposable.addDisposable(reject(err));
            }
            disposable.addDisposable(resolve());
        });
        return disposable;
    });
}
exports.writeFile = writeFile;
//# sourceMappingURL=writeFile.js.map